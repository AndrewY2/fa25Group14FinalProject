@model fa25Group14FinalProject.Models.ReportSearchViewModel
@using fa25Group14FinalProject.Models
@using System.Linq

@{
    ViewData["Title"] = "Reports Dashboard";
}

<h2 class="mb-4">Reports Dashboard</h2>

<p>Select a report below to generate results. Only Admins may access reports. </p>

<form asp-controller="Reports" asp-action="GenerateReport" method="get">
    <div class="card p-4 mb-4 shadow-sm">
        <h5 class="card-title">Filtering Criteria (Applies to Reports A, B, C, D, E)</h5>

        <input type="hidden" name="SortField" value="" />
        <input type="hidden" name="SortDirection" value="" />


        <div class="form-row">
            <div class="form-group col-md-3">
                <label asp-for="StartDate"></label>
                <input asp-for="StartDate" class="form-control" />
            </div>
            <div class="form-group col-md-3">
                <label asp-for="EndDate"></label>
                <input asp-for="EndDate" class="form-control" />
            </div>
            <div class="form-group col-md-3">
                <label asp-for="CustomerFilter"></label>
                <input asp-for="CustomerFilter" class="form-control" placeholder="Name or Email" />
            </div>
            <div class="form-group col-md-3">
                <label asp-for="BookFilter"></label>
                <input asp-for="BookFilter" class="form-control" placeholder="Title or Genre Name" />
            </div>
        </div>
    </div>

    <h5 class="mb-3">Select Report Type:</h5>
    <div class="row">

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm">
                <div class="card-body">
                    <input type="radio" id="reportA" name="reportType" value="A" class="mr-2" checked="checked" />
                    <label for="reportA" class="d-inline-block">
                        <h5 class="card-title d-inline">Report A: All Books Sold</h5>
                    </label>
                    <p class="card-text small mt-2">
                        All books sold — includes book title, quantity, order number, customer, selling price, weighted average cost, and per-book profit margin. 
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm">
                <div class="card-body">
                    <input type="radio" id="reportB" name="reportType" value="B" class="mr-2" />
                    <label for="reportB" class="d-inline-block">
                        <h5 class="card-title d-inline">Report B: All Orders</h5>
                    </label>
                    <p class="card-text small mt-2">
                        All orders — grouped by order. Shows revenue, total cost, and profit for each entire order. 
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm">
                <div class="card-body">
                    <input type="radio" id="reportC" name="reportType" value="C" class="mr-2" />
                    <label for="reportC" class="d-inline-block">
                        <h5 class="card-title d-inline">Report C: All Customers</h5>
                    </label>
                    <p class="card-text small mt-2">
                        All customers — grouped by customer. Shows total revenue and profit generated by each customer. 
                    </p>
                </div>
            </div>
        </div>

    </div>

    <div class="row mt-3">

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm">
                <div class="card-body">
                    <input type="radio" id="reportD" name="reportType" value="D" class="mr-2" />
                    <label for="reportD" class="d-inline-block">
                        <h5 class="card-title d-inline">Report D: Totals</h5>
                    </label>
                    <p class="card-text small mt-2">
                        Total profit, total cost, and total revenue — aggregated across all orders.
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm">
                <div class="card-body">
                    <input type="radio" id="reportE" name="reportType" value="E" class="mr-2" />
                    <label for="reportE" class="d-inline-block">
                        <h5 class="card-title d-inline">Report E: Current Inventory</h5>
                    </label>
                    <p class="card-text small mt-2">
                        Current inventory — shows each book, inventory quantity, weighted average cost, and total inventory value at bottom. 
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm">
                <div class="card-body">
                    <input type="radio" id="reportF" name="reportType" value="F" class="mr-2" />
                    <label for="reportF" class="d-inline-block">
                        <h5 class="card-title d-inline">Report F: Approved/Rejected Reviews</h5>
                    </label>
                    <p class="card-text small mt-2">
                        Approved / rejected reviews — grouped by employee, showing how many reviews each employee approved or rejected. 
                    </p>
                </div>
            </div>
        </div>

    </div>

    <button type="submit" class="btn btn-success btn-lg mt-4">Generate Report</button>
</form>